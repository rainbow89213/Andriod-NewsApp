# ğŸ“± æ–°é—»Appé¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ—ï¸ é¡¹ç›®æ¶æ„
è¿™æ˜¯ä¸€ä¸ª**å‰åç«¯åˆ†ç¦»**çš„æ–°é—»é˜…è¯»åº”ç”¨ï¼š
- **å‰ç«¯**ï¼šAndroidåŸç”Ÿåº”ç”¨ï¼ˆJavaï¼‰
- **åç«¯**ï¼šSpring BootæœåŠ¡å™¨ï¼ˆJava + MySQLï¼‰

---

## ğŸ“‚ Androidå‰ç«¯ç»“æ„
è·¯å¾„ï¼š`app/src/main/java/com/example/demo2/`

### æ ¸å¿ƒæ–‡ä»¶
| æ–‡ä»¶ | åŠŸèƒ½ | 
|------|------|
| **MainActivity.java** | ä¸»ç•Œé¢ï¼Œç®¡ç†åˆ†ç±»æ ‡ç­¾å’ŒViewPager2 |
| **NewsAdapter.java** | æ–°é—»åˆ—è¡¨é€‚é…å™¨ï¼Œå±•ç¤ºä¸åŒç±»å‹çš„æ–°é—»å¡ç‰‡ |
| **NewsItem.java** | æ–°é—»æ•°æ®æ¨¡å‹ï¼Œå®šä¹‰æ–°é—»çš„æ‰€æœ‰å±æ€§ |

### ğŸ“ å­ç›®å½•

#### `adapter/` - é€‚é…å™¨
- **CategoryPagerAdapter.java**ï¼šç®¡ç†åˆ†ç±»é¡µé¢çš„ViewPageré€‚é…å™¨

#### `api/` - ç½‘ç»œæ¥å£
- **ApiClient.java**ï¼šRetrofitå®¢æˆ·ç«¯ï¼Œè®¾ç½®æœåŠ¡å™¨åœ°å€
- **ApiService.java**ï¼šå®šä¹‰æ‰€æœ‰APIæ¥å£

#### `database/` - æœ¬åœ°æ•°æ®åº“
- **AppDatabase.java**ï¼šRoomæ•°æ®åº“é…ç½®
- **NewsDao.java**ï¼šæ•°æ®åº“æ“ä½œæ¥å£

#### `fragment/` - é¡µé¢ç¢ç‰‡
- **NewsListFragment.java**ï¼šæ¯ä¸ªåˆ†ç±»çš„æ–°é—»åˆ—è¡¨é¡µé¢

#### `repository/` - æ•°æ®ä»“åº“
- **NewsRepository.java**ï¼šç»Ÿä¸€ç®¡ç†ç½‘ç»œè¯·æ±‚å’Œæœ¬åœ°ç¼“å­˜

### ğŸ“± å·¥ä½œæµç¨‹
```
ç”¨æˆ·æ‰“å¼€App
    â†“
MainActivityæ˜¾ç¤ºåˆ†ç±»æ ‡ç­¾
    â†“
é€‰æ‹©åˆ†ç±»ï¼ˆå¦‚"ç§‘æŠ€"ï¼‰
    â†“
NewsListFragmentåŠ è½½è¯¥åˆ†ç±»æ–°é—»
    â†“
Repositoryä»åç«¯è·å–æ•°æ®
    â†“
NewsAdapterå±•ç¤ºæ–°é—»åˆ—è¡¨
```

---

## ğŸ–¥ï¸ Spring Bootåç«¯ç»“æ„
è·¯å¾„ï¼š`newsApp/src/main/java/com/example/newsapp/`

### æ ¸å¿ƒæ–‡ä»¶
| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| **NewsAppApplication.java** | Spring Bootå¯åŠ¨ç±» |

### ğŸ“ å­ç›®å½•

#### `controller/` - æ§åˆ¶å™¨
- **NewsController.java**ï¼šå¤„ç†HTTPè¯·æ±‚ï¼Œæä¾›APIæ¥å£

#### `service/` - ä¸šåŠ¡é€»è¾‘
- **NewsService.java**ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨æ•°æ®åº“

#### `mapper/` - æ•°æ®è®¿é—®
- **NewsMapper.java**ï¼šMyBatisæ˜ å°„å™¨ï¼Œæ‰§è¡ŒSQLæŸ¥è¯¢

#### `model/` - æ•°æ®æ¨¡å‹
- **News.java**ï¼šæ–°é—»å®ä½“ç±»
- **Category.java**ï¼šåˆ†ç±»å®ä½“ç±»
- **User.java**ï¼šç”¨æˆ·å®ä½“ç±»
- **NewsItem.java**ï¼šè¿”å›ç»™å®¢æˆ·ç«¯çš„æ–°é—»å¯¹è±¡

### ğŸ”— APIæ¥å£
```
GET /api/news                    # è·å–æ‰€æœ‰æ–°é—»
GET /api/news/category/{code}    # è·å–åˆ†ç±»æ–°é—»
å‚æ•°ï¼šoffsetï¼ˆåç§»é‡ï¼‰, limitï¼ˆæ•°é‡ï¼‰
```

---

## ğŸ“Š æ•°æ®åº“ç»“æ„
è·¯å¾„ï¼š`newsApp/src/main/resources/`

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| **schema.sql** | æ•°æ®åº“è¡¨ç»“æ„å®šä¹‰ |
| **data.sql** | åˆå§‹æµ‹è¯•æ•°æ® |
| **data-extended.sql** | æ‰©å±•æµ‹è¯•æ•°æ®ï¼ˆæ›´å¤šæ–°é—»ï¼‰ |
| **application.properties** | Spring Booté…ç½®æ–‡ä»¶ |

### æ•°æ®åº“è¡¨
1. **news** - æ–°é—»è¡¨ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€å›¾ç‰‡ç­‰ï¼‰
2. **category** - åˆ†ç±»è¡¨ï¼ˆç§‘æŠ€ã€ç»æµã€ä½“è‚²ç­‰ï¼‰
3. **user** - ç”¨æˆ·è¡¨ï¼ˆä½œè€…ä¿¡æ¯ï¼‰

---

## âš™ï¸ å…³é”®é…ç½®

### Androidç«¯é…ç½®
```java
// ApiClient.java
BASE_URL = "http://10.0.2.2:8080/"  // æ¨¡æ‹Ÿå™¨è®¿é—®æœ¬æœº
```

### åç«¯é…ç½®
```properties
# application.properties
server.port=8080                    # æœåŠ¡å™¨ç«¯å£
spring.datasource.url=jdbc:mysql://localhost:3306/news_db
```

---

## ğŸš€ è¿è¡Œæ­¥éª¤

### 1. å¯åŠ¨æ•°æ®åº“
```bash
# å¯¼å…¥æ•°æ®
mysql -u root -p123456 news_db < schema.sql
mysql -u root -p123456 news_db < data.sql
mysql -u root -p123456 news_db < data-extended.sql
```

### 2. å¯åŠ¨åç«¯
```bash
cd newsApp
mvn spring-boot:run
```

### 3. è¿è¡ŒAndroidåº”ç”¨
- æ‰“å¼€Android Studio
- ç‚¹å‡»è¿è¡ŒæŒ‰é’®
- é€‰æ‹©æ¨¡æ‹Ÿå™¨æˆ–çœŸæœº

---

## ğŸ“‹ åŠŸèƒ½ç‰¹ç‚¹

### å·²å®ç°
âœ… åˆ†ç±»æµè§ˆï¼ˆç§‘æŠ€ã€ç»æµã€ä½“è‚²ç­‰8ä¸ªåˆ†ç±»ï¼‰  
âœ… ä¸‹æ‹‰åˆ·æ–°  
âœ… ä¸Šæ»‘åŠ è½½æ›´å¤š  
âœ… å¤šç§å¡ç‰‡æ ·å¼ï¼ˆå•å›¾ã€å¤šå›¾ã€è§†é¢‘ï¼‰  
âœ… 2ç§’åŠ è½½åŠ¨ç”»  
âœ… å·®å¼‚åŒ–åŠ è½½ï¼ˆé¦–æ¬¡4æ¡ï¼Œåç»­2æ¡ï¼‰  

### æ•°æ®æµå‘
```
MySQLæ•°æ®åº“
    â†“
Spring BootæœåŠ¡å™¨ï¼ˆ8080ç«¯å£ï¼‰
    â†“
Retrofitç½‘ç»œè¯·æ±‚
    â†“
Repositoryæ•°æ®å¤„ç†
    â†“
Fragmenté¡µé¢å±•ç¤º
    â†“
Adapteræ¸²æŸ“åˆ—è¡¨
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Qï¼šä¸ºä»€ä¹ˆæ¨¡æ‹Ÿå™¨è®¿é—®åœ°å€æ˜¯10.0.2.2ï¼Ÿ
Aï¼šAndroidæ¨¡æ‹Ÿå™¨ä¸­ï¼Œ10.0.2.2ä»£è¡¨å®¿ä¸»æœºçš„localhost

### Qï¼šå¦‚ä½•æ·»åŠ æ–°åˆ†ç±»ï¼Ÿ
Aï¼š1. æ•°æ®åº“categoryè¡¨æ·»åŠ è®°å½•
   2. MainActivity.javaçš„initCategories()æ·»åŠ åˆ†ç±»

### Qï¼šå¦‚ä½•ä¿®æ”¹åŠ è½½æ•°é‡ï¼Ÿ
Aï¼šNewsListFragment.javaä¸­ä¿®æ”¹ï¼š
```java
INITIAL_LOAD_SIZE = 4;  // é¦–æ¬¡åŠ è½½æ•°é‡
MORE_LOAD_SIZE = 2;     // åç»­åŠ è½½æ•°é‡
```

---

## ğŸ“ ç»´æŠ¤å»ºè®®

1. **ä¿æŒä»£ç æ•´æ´**ï¼šåˆ é™¤æœªä½¿ç”¨çš„æ–‡ä»¶
2. **ç»Ÿä¸€å‘½åè§„èŒƒ**ï¼šåŒ…åå°å†™ï¼Œç±»åå¤§é©¼å³°
3. **æ³¨é‡Šé‡è¦é€»è¾‘**ï¼šç‰¹åˆ«æ˜¯ç½‘ç»œè¯·æ±‚å’Œæ•°æ®å¤„ç†
4. **æµ‹è¯•å……åˆ†**ï¼šæ¯ä¸ªåˆ†ç±»éƒ½è¦æµ‹è¯•

---

**æœ€åæ›´æ–°ï¼š2024-12-01**  
**ç‰ˆæœ¬ï¼šv2.0ï¼ˆViewPager2æ¶æ„ï¼‰**
